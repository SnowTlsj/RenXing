/*
入会开卡领取礼包

环境变量
VENDER_ID // venderId或vendorId的值，多个用&、@或逗号连接，但是不要混用
OPENCARD_BEAN // 最小入会京豆（默认10）

*/

const $ = new Env('入会开卡领取礼包')
const jdCookieNode = $.isNode() ? require('./jdCookie') : ''
const getH5st = require('./function/getH5st3_0')

var version_='jsjiami.com.v7';const I11IIII=llIIIil1;(function(i11IlIIi,IIil1Ii1,III1Il1,lllI1iii,lIliiiI1,liiI1IlI,li1IIIIi){return i11IlIIi=i11IlIIi>>0x5,liiI1IlI='hs',li1IIIIi='hs',function(I1i1l11I,ii1IIi1,III1IIii,iII1IlI,liII1Ii1){const llI1Iil1=llIIIil1;iII1IlI='tfi',liiI1IlI=iII1IlI+liiI1IlI,liII1Ii1='up',li1IIIIi+=liII1Ii1,liiI1IlI=III1IIii(liiI1IlI),li1IIIIi=III1IIii(li1IIIIi),III1IIii=0x0;const iiI1llIl=I1i1l11I();while(!![]&&--lllI1iii+ii1IIi1){try{iII1IlI=parseInt(llI1Iil1(0x2ae))/0x1+parseInt(llI1Iil1(0x212))/0x2+-parseInt(llI1Iil1(0x1f1))/0x3*(-parseInt(llI1Iil1(0x238))/0x4)+parseInt(llI1Iil1(0x18e))/0x5*(parseInt(llI1Iil1(0x22d))/0x6)+-parseInt(llI1Iil1(0x25a))/0x7*(parseInt(llI1Iil1(0x2a1))/0x8)+parseInt(llI1Iil1(0x1e2))/0x9+-parseInt(llI1Iil1(0x2a3))/0xa;}catch(i1llilil){iII1IlI=III1IIii;}finally{liII1Ii1=iiI1llIl[liiI1IlI]();if(i11IlIIi<=lllI1iii)III1IIii?lIliiiI1?iII1IlI=liII1Ii1:lIliiiI1=liII1Ii1:III1IIii=liII1Ii1;else{if(III1IIii==lIliiiI1['replace'](/[FqgwtMOIRTAuykVrLhNSl=]/g,'')){if(iII1IlI===ii1IIi1){iiI1llIl['un'+liiI1IlI](liII1Ii1);break;}iiI1llIl[li1IIIIi](liII1Ii1);}}}}}(III1Il1,IIil1Ii1,function(I1IiIlII,lii1111,IIii11il,liiiI1II,II1iiII1,Iii1iilI,IllIIiII){return lii1111='\x73\x70\x6c\x69\x74',I1IiIlII=arguments[0x0],I1IiIlII=I1IiIlII[lii1111](''),IIii11il=`\x72\x65\x76\x65\x72\x73\x65`,I1IiIlII=I1IiIlII[IIii11il]('\x76'),liiiI1II=`\x6a\x6f\x69\x6e`,(0x1362d8,I1IiIlII[liiiI1II](''));});}(0x1800,0xce65f,IiIIIl1I,0xc2),IiIIIl1I)&&(version_=IiIIIl1I);const OPENCARD_BEAN=process[I11IIII(0x28a)][I11IIII(0x203)]||'10';let VENDER_IDs=[];if(process[I11IIII(0x28a)][I11IIII(0x1c8)]){if(process[I11IIII(0x28a)][I11IIII(0x1c8)][I11IIII(0x201)]('&')>-0x1)VENDER_IDs=process[I11IIII(0x28a)][I11IIII(0x1c8)][I11IIII(0x288)]('&');else{if(process[I11IIII(0x28a)][I11IIII(0x1c8)][I11IIII(0x201)]('@')>-0x1)VENDER_IDs=process[I11IIII(0x28a)][I11IIII(0x1c8)][I11IIII(0x288)]('@');else process[I11IIII(0x28a)][I11IIII(0x1c8)][I11IIII(0x201)](',')>-0x1?VENDER_IDs=process[I11IIII(0x28a)][I11IIII(0x1c8)][I11IIII(0x288)](','):VENDER_IDs=[process[I11IIII(0x28a)][I11IIII(0x1c8)]];}}let nobeans_mark=0x0,cookiesArr=[],cookie='';if($[I11IIII(0x2aa)]()){Object[I11IIII(0x264)](jdCookieNode)[I11IIII(0x253)](i1li1ili=>{const li1IIIll=I11IIII;cookiesArr[li1IIIll(0x215)](jdCookieNode[i1li1ili]);});if(process[I11IIII(0x28a)][I11IIII(0x1b9)]&&process[I11IIII(0x28a)][I11IIII(0x1b9)]===I11IIII(0x24f))console[I11IIII(0x226)]=()=>{};}else cookiesArr=[$[I11IIII(0x1b3)](I11IIII(0x194)),$[I11IIII(0x1b3)](I11IIII(0x207)),...jsonParse($[I11IIII(0x1b3)](I11IIII(0x1ec))||'[]')[I11IIII(0x1a3)](iIIII1ll=>iIIII1ll[I11IIII(0x296)])][I11IIII(0x291)](li1li1=>!!li1li1);allMessage='',message='',!(async()=>{const lll1I11l=I11IIII,IlI1iliI={'LJfqv':lll1I11l(0x280),'PWzfN':function(IiIIiiIi){return IiIIiiIi();},'WqKiG':lll1I11l(0x297),'FTSYf':lll1I11l(0x1a1),'tPiJt':function(i111Ii1i,Iilllil1){return i111Ii1i<Iilllil1;},'AGVnu':function(i1lliiii,ilIiiIll){return i1lliiii===ilIiiIll;},'UqWWX':lll1I11l(0x1fd),'OAfiP':function(lIiIllIl,iiII1l1i){return lIiIllIl(iiII1l1i);},'lpOFQ':function(l11iI1i1,iII1Iiil){return l11iI1i1+iII1Iiil;},'XgywP':function(Il1iI1i,iIiI1I){return Il1iI1i>=iIiI1I;},'cDjUY':lll1I11l(0x26f),'JyPmZ':function(Iiili1l1){return Iiili1l1();},'TrFrA':function(l1lilIIl){return l1lilIIl();}};if(!cookiesArr[0x0]){$[lll1I11l(0x1f7)]($[lll1I11l(0x1a5)],IlI1iliI[lll1I11l(0x1da)],IlI1iliI[lll1I11l(0x227)],{'open-url':IlI1iliI[lll1I11l(0x227)]});return;}for(let lIi1II1I=0x0;IlI1iliI[lll1I11l(0x228)](lIi1II1I,cookiesArr[lll1I11l(0x1a4)]);lIi1II1I++){cookie=cookiesArr[lIi1II1I];if(cookie){if(IlI1iliI[lll1I11l(0x248)](IlI1iliI[lll1I11l(0x19f)],IlI1iliI[lll1I11l(0x19f)])){$[lll1I11l(0x1cd)]=IlI1iliI[lll1I11l(0x29a)](decodeURIComponent,cookie[lll1I11l(0x295)](/pt_pin=([^; ]+)(?=;?)/)&&cookie[lll1I11l(0x295)](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$[lll1I11l(0x20a)]=IlI1iliI[lll1I11l(0x25e)](lIi1II1I,0x1);if(IlI1iliI[lll1I11l(0x299)](nobeans_mark,0x3)){console[lll1I11l(0x226)](IlI1iliI[lll1I11l(0x1a7)]);break;}message='',$[lll1I11l(0x19b)]='',await IlI1iliI[lll1I11l(0x28c)](TotalBean),$[lll1I11l(0x1cd)]=$[lll1I11l(0x19b)]||$[lll1I11l(0x1cd)],console[lll1I11l(0x226)](lll1I11l(0x284)+$[lll1I11l(0x20a)]+'】'+$[lll1I11l(0x1cd)]+lll1I11l(0x279)),await IlI1iliI[lll1I11l(0x224)](getUA),await IlI1iliI[lll1I11l(0x1b4)](run);}else II1iIIi[lll1I11l(0x226)](IlI1iliI[lll1I11l(0x1b2)]),liIlII1i+=0x1,IlI1iliI[lll1I11l(0x28c)](lliI1llI);}}allMessage&&$[lll1I11l(0x1f7)]($[lll1I11l(0x1a5)],'',''+allMessage);})()[I11IIII(0x290)](iIl1iI1i=>$[I11IIII(0x283)](iIl1iI1i))[I11IIII(0x1f3)](()=>$[I11IIII(0x1dc)]());async function run(){const lllli=I11IIII,IiI1iiil={'fpubc':lllli(0x1e1),'CrDmv':function(IilIIl1I,lIIi){return IilIIl1I===lIIi;},'iUpom':lllli(0x2a9),'gbhPl':lllli(0x1f2),'MjqRY':function(lIII1il,i1IIiilI){return lIII1il<i1IIiilI;},'hvpcI':function(IliiI11I,IlI1i1il){return IliiI11I!==IlI1i1il;},'lzpdS':lllli(0x1a8),'WwGYu':function(IiIIii){return IiIIii();},'kKMHY':function(IIliII1l,ll1I1ilI){return IIliII1l>ll1I1ilI;},'zuaja':lllli(0x1db),'KRtwP':lllli(0x1b8),'KaPwl':function(I111I1II){return I111I1II();},'wraAe':function(iiIi1ii,IIIi1iI){return iiIi1ii>IIIi1iI;},'JUFYm':lllli(0x2a2),'VcBRc':lllli(0x23c),'XMmrU':lllli(0x1f9),'kuIQF':lllli(0x1ed),'HtEuR':function(ilii1lI){return ilii1lI();},'MTVrU':lllli(0x21e)};try{const III11iII=VENDER_IDs;for(let IiliIll=0x0;IiI1iiil[lllli(0x229)](IiliIll,III11iII[lllli(0x1a4)]);IiliIll++){IiI1iiil[lllli(0x266)](IiI1iiil[lllli(0x1d4)],IiI1iiil[lllli(0x1d4)])?(ilIl1IiI[lllli(0x226)](IiI1iiil[lllli(0x278)]),illlllli+=lllli(0x1c7)+lIliilil[lllli(0x20a)]+'】'+IIiili1I[lllli(0x1cd)]+lllli(0x21c)):($[lllli(0x1e7)]=III11iII[IiliIll],$[lllli(0x1b0)]='',await IiI1iiil[lllli(0x1ac)](joinShop),IiI1iiil[lllli(0x18b)]($[lllli(0x1b0)][lllli(0x201)](IiI1iiil[lllli(0x1e3)]),-0x1)&&(console[lllli(0x226)](IiI1iiil[lllli(0x1cc)]),await $[lllli(0x211)](0x1f4),await IiI1iiil[lllli(0x252)](joinShop)),IiI1iiil[lllli(0x239)]($[lllli(0x1b0)][lllli(0x201)](IiI1iiil[lllli(0x1e3)]),-0x1)&&(IiI1iiil[lllli(0x266)](IiI1iiil[lllli(0x267)],IiI1iiil[lllli(0x267)])?(iiI1I11=iiiiiIiI[lllli(0x26b)](IIIiii1I),IiI1iiil[lllli(0x25d)](iliilI1i[IiI1iiil[lllli(0x1ca)]],0x0)&&ilIiili[lllli(0x192)]&&iIl1I1li[lllli(0x192)][lllli(0x294)]&&(iilII1Ii[lllli(0x19b)]=Iii1I1I1[lllli(0x192)][lllli(0x294)])):(console[lllli(0x226)](IiI1iiil[lllli(0x1b7)]),await $[lllli(0x211)](0x1f4),await IiI1iiil[lllli(0x252)](joinShop))),IiI1iiil[lllli(0x18b)]($[lllli(0x1b0)][lllli(0x201)](IiI1iiil[lllli(0x1e3)]),-0x1)&&(IiI1iiil[lllli(0x25d)](IiI1iiil[lllli(0x213)],IiI1iiil[lllli(0x213)])?(console[lllli(0x226)](IiI1iiil[lllli(0x1ef)]),await $[lllli(0x211)](0x1f4),await IiI1iiil[lllli(0x23f)](joinShop)):iIl1IlII[lllli(0x226)](I1IilIII)),IiI1iiil[lllli(0x18b)]($[lllli(0x1b0)][lllli(0x201)](IiI1iiil[lllli(0x1e3)]),-0x1)&&(console[lllli(0x226)](IiI1iiil[lllli(0x278)]),allMessage+=lllli(0x1c7)+$[lllli(0x20a)]+'】'+$[lllli(0x1cd)]+lllli(0x21c)));}}catch(I111i1ii){if(IiI1iiil[lllli(0x25d)](IiI1iiil[lllli(0x1c5)],IiI1iiil[lllli(0x1c5)]))console[lllli(0x226)](I111i1ii);else try{return l1i11iIi[lllli(0x26b)](lIlli1l1);}catch(I11iIiIi){return Iii1IIil[lllli(0x226)](I11iIiIi),l1Iil1iI[lllli(0x1f7)](liIIlI[lllli(0x1a5)],'',IiI1iiil[lllli(0x1f0)]),[];}}}function TotalBean(){const lIiIIi11=I11IIII,ii1li1l={'ZMNqy':function(IIi1iill,iiIiIIIl){return IIi1iill!==iiIiIIIl;},'oAZhy':lIiIIi11(0x1fa),'eilxC':lIiIIi11(0x270),'vfAOa':function(iilIII1,lIi11il){return iilIII1(lIi11il);},'FcFba':function(lIIiill,IIi1i1lI){return lIIiill===IIi1i1lI;},'FHSxa':lIiIIi11(0x2a9),'lDYTt':function(iliill1l,liiI1I1){return iliill1l===liiI1I1;},'JrMoR':lIiIIi11(0x193),'BBwux':lIiIIi11(0x19e),'flzou':function(iilliI){return iilliI();},'QMFCX':function(I1iI11i1,ilil1){return I1iI11i1(ilil1);},'RArhE':lIiIIi11(0x263),'pmXIl':lIiIIi11(0x2ad),'wnCpV':lIiIIi11(0x298),'npTSI':lIiIIi11(0x2ab),'NmFgC':lIiIIi11(0x214),'cRJSS':lIiIIi11(0x1f4),'abrsH':lIiIIi11(0x1b1)};return new Promise(async iII1l1i=>{const lIIiIl1=lIiIIi11,l1IliIiI={'liPiH':function(i11lli1,Ili1I1l1){const lI11l1II=llIIIil1;return ii1li1l[lI11l1II(0x242)](i11lli1,Ili1I1l1);}},II11i1II={'url':lIIiIl1(0x225),'headers':{'Accept':ii1li1l[lIIiIl1(0x25f)],'Content-Type':ii1li1l[lIIiIl1(0x22a)],'Accept-Encoding':ii1li1l[lIIiIl1(0x218)],'Accept-Language':ii1li1l[lIIiIl1(0x2a0)],'Connection':ii1li1l[lIIiIl1(0x206)],'Cookie':cookie,'Referer':ii1li1l[lIIiIl1(0x28b)],'User-Agent':ii1li1l[lIIiIl1(0x24b)]}};$[lIIiIl1(0x243)](II11i1II,(liIIIl1I,IIll11i1,i11ill1l)=>{const i1lilI1=lIIiIl1;try{ii1li1l[i1lilI1(0x23a)](ii1li1l[i1lilI1(0x1a9)],ii1li1l[i1lilI1(0x273)])?liIIIl1I?(console[i1lilI1(0x226)](ii1li1l[i1lilI1(0x2ac)](String,liIIIl1I)),console[i1lilI1(0x226)]($[i1lilI1(0x1a5)]+i1lilI1(0x254))):i11ill1l?(i11ill1l=JSON[i1lilI1(0x26b)](i11ill1l),ii1li1l[i1lilI1(0x27e)](i11ill1l[ii1li1l[i1lilI1(0x26a)]],0x0)&&i11ill1l[i1lilI1(0x192)]&&i11ill1l[i1lilI1(0x192)][i1lilI1(0x294)]&&($[i1lilI1(0x19b)]=i11ill1l[i1lilI1(0x192)][i1lilI1(0x294)])):ii1li1l[i1lilI1(0x205)](ii1li1l[i1lilI1(0x24c)],ii1li1l[i1lilI1(0x24c)])?console[i1lilI1(0x226)](i1lilI1(0x1f5)):IlI11ili['UA']=i1lilI1(0x24d)+l1IliIiI[i1lilI1(0x1be)](l1I11l1I,0x28)+i1lilI1(0x209):l1iII1Il=i1l1IiI1[i1lilI1(0x28a)][i1lilI1(0x1c8)][i1lilI1(0x288)](',');}catch(II1liil){ii1li1l[i1lilI1(0x23a)](ii1li1l[i1lilI1(0x1e6)],ii1li1l[i1lilI1(0x1e6)])?iiIi11II[i1lilI1(0x226)](lliiIi1):$[i1lilI1(0x283)](II1liil);}finally{ii1li1l[i1lilI1(0x1e4)](iII1l1i);}});});}function getUA(){const Il11Il=I11IIII,iI1l11i={'msFJy':function(illiI1i1,iIi1ili){return illiI1i1(iIi1ili);}};$['UA']=Il11Il(0x24d)+iI1l11i[Il11Il(0x210)](randomString,0x28)+Il11Il(0x209);}function randomString(lIIlIIl1){const IIii11l=I11IIII,iI11I1ii={'KxWZM':function(ili11i1I,lIII1ii1){return ili11i1I||lIII1ii1;},'wTfYn':IIii11l(0x257),'uDCNx':function(IIIllI,lililIi){return IIIllI<lililIi;},'GoVjN':function(lIilIlii,l11IlIIl){return lIilIlii*l11IlIIl;}};lIIlIIl1=iI11I1ii[IIii11l(0x269)](lIIlIIl1,0x20);let i1iIIIi=iI11I1ii[IIii11l(0x250)],li11i1l=i1iIIIi[IIii11l(0x1a4)],I11I11I1='';for(i=0x0;iI11I1ii[IIii11l(0x1d6)](i,lIIlIIl1);i++)I11I11I1+=i1iIIIi[IIii11l(0x272)](Math[IIii11l(0x217)](iI11I1ii[IIii11l(0x216)](Math[IIii11l(0x1f6)](),li11i1l)));return I11I11I1;}function llIIIil1(_0x4f6ea3,_0x4fcdfb){const _0x27c6d7=IiIIIl1I();return llIIIil1=function(_0x62abe0,_0x2e882f){_0x62abe0=_0x62abe0-0x18a;let _0x4df899=_0x27c6d7[_0x62abe0];if(llIIIil1['gNQjCY']===undefined){var _0x4d932d=function(_0x188eda){const _0x33d7e1='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4f5caa='',_0x34ea95='';for(let _0x15e556=0x0,_0x598a83,_0x3ab832,_0x1bc97c=0x0;_0x3ab832=_0x188eda['charAt'](_0x1bc97c++);~_0x3ab832&&(_0x598a83=_0x15e556%0x4?_0x598a83*0x40+_0x3ab832:_0x3ab832,_0x15e556++%0x4)?_0x4f5caa+=String['fromCharCode'](0xff&_0x598a83>>(-0x2*_0x15e556&0x6)):0x0){_0x3ab832=_0x33d7e1['indexOf'](_0x3ab832);}for(let _0x3155bf=0x0,_0x6eed50=_0x4f5caa['length'];_0x3155bf<_0x6eed50;_0x3155bf++){_0x34ea95+='%'+('00'+_0x4f5caa['charCodeAt'](_0x3155bf)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x34ea95);};llIIIil1['gqYkNP']=_0x4d932d,_0x4f6ea3=arguments,llIIIil1['gNQjCY']=!![];}const _0x59ee4d=_0x27c6d7[0x0],_0x2c55ee=_0x62abe0+_0x59ee4d,_0x10ec8a=_0x4f6ea3[_0x2c55ee];return!_0x10ec8a?(_0x4df899=llIIIil1['gqYkNP'](_0x4df899),_0x4f6ea3[_0x2c55ee]=_0x4df899):_0x4df899=_0x10ec8a,_0x4df899;},llIIIil1(_0x4f6ea3,_0x4fcdfb);}function joinShop(){const lIl111iI=I11IIII,li1ilIl1={'jyAkn':function(IiI1lIii){return IiI1lIii();},'oibKm':function(llI1I1i1){return llI1I1i1();},'WfDGX':lIl111iI(0x297),'qulkg':lIl111iI(0x1a1),'nuGnh':function(II1lll1,i1illl11){return II1lll1===i1illl11;},'zoTNR':lIl111iI(0x246),'kaLuh':lIl111iI(0x1eb),'rzPxg':function(I1lIIl1,iIillIIl){return I1lIIl1==iIillIIl;},'xcpgE':lIl111iI(0x1fe),'CbFTq':function(iiIli11l,iil1I1iI){return iiIli11l!==iil1I1iI;},'xgsCn':lIl111iI(0x24e),'wzjaP':lIl111iI(0x286),'TskqU':lIl111iI(0x255),'Qkwlj':lIl111iI(0x2a7),'XAZCj':lIl111iI(0x1e5),'IseiS':lIl111iI(0x282),'kBvky':function(lIiliIii,i1Iiil1){return lIiliIii===i1Iiil1;},'SZXsX':lIl111iI(0x28e),'Gpxpc':lIl111iI(0x23d),'oUSQd':function(IIIIl1II){return IIIIl1II();},'JmkHl':lIl111iI(0x240),'iQdaa':lIl111iI(0x1d0),'luzxh':lIl111iI(0x280),'rTjvi':function(Illil1lI,i111iIII){return Illil1lI<i111iIII;},'Eserv':function(l1i11Ii1,IIii1i11){return l1i11Ii1===IIii1i11;},'ZBPVT':lIl111iI(0x1b5),'QoMmb':lIl111iI(0x1c4),'iQLYx':function(i1il11ll){return i1il11ll();},'UxxVa':lIl111iI(0x1c3),'xNiqO':lIl111iI(0x1ee),'FUMCw':lIl111iI(0x200),'ovcsg':lIl111iI(0x2a8),'ECfxr':lIl111iI(0x1ce),'CGOJX':function(I1ii1i1l,iII1I1li,li1ll1l){return I1ii1i1l(iII1I1li,li1ll1l);},'Vmgix':lIl111iI(0x219),'XDtdj':function(iIii11Il,lIli1l){return iIii11Il(lIli1l);},'cQvcl':function(IiI111il,ilIliil1){return IiI111il(ilIliil1);},'rsGgH':lIl111iI(0x1de),'lRAKl':lIl111iI(0x198),'vetCS':lIl111iI(0x268),'YbdWZ':lIl111iI(0x247),'TjboC':lIl111iI(0x2ad)};if(!$[lIl111iI(0x1e7)])return;return new Promise(async IlliiilI=>{const I1li1ii=lIl111iI,IIlI1Ii={'ZaMXs':li1ilIl1[I1li1ii(0x1e8)],'jstwS':li1ilIl1[I1li1ii(0x1fb)],'ehLpf':function(liiilIiI){const iIlIIII=I1li1ii;return li1ilIl1[iIlIIII(0x20f)](liiilIiI);},'Rupms':function(ii1iI1ll,Ii1IIlI1){const l1iiII1l=I1li1ii;return li1ilIl1[l1iiII1l(0x1df)](ii1iI1ll,Ii1IIlI1);},'qqgvy':li1ilIl1[I1li1ii(0x199)],'DwhqD':li1ilIl1[I1li1ii(0x258)],'uxPsp':function(iiI1llii,iIl1iIi1){const lIilliii=I1li1ii;return li1ilIl1[lIilliii(0x262)](iiI1llii,iIl1iIi1);},'Vckuh':li1ilIl1[I1li1ii(0x28f)],'kbwzm':function(iIlII111,lllII1li){const Iii1lII1=I1li1ii;return li1ilIl1[Iii1lII1(0x20e)](iIlII111,lllII1li);},'gGRuL':li1ilIl1[I1li1ii(0x1bc)],'gkNto':li1ilIl1[I1li1ii(0x20d)],'IGkec':function(ili1i11I,IIlllliI){const IIlIi11=I1li1ii;return li1ilIl1[IIlIi11(0x1df)](ili1i11I,IIlllliI);},'fvBeX':li1ilIl1[I1li1ii(0x241)],'SlzVd':function(i1IilIlI,lI11llll){const ilIIliI=I1li1ii;return li1ilIl1[ilIIliI(0x1df)](i1IilIlI,lI11llll);},'Kfkhy':li1ilIl1[I1li1ii(0x22e)],'qYTJN':li1ilIl1[I1li1ii(0x232)],'bJMgx':li1ilIl1[I1li1ii(0x221)]};if(li1ilIl1[I1li1ii(0x28d)](li1ilIl1[I1li1ii(0x1c2)],li1ilIl1[I1li1ii(0x276)]))li1ilIl1[I1li1ii(0x293)](i1ll111i);else{$[I1li1ii(0x27c)]='',$[I1li1ii(0x1b0)]='',$[I1li1ii(0x24a)]=![],$[I1li1ii(0x26d)]=0x0,await li1ilIl1[I1li1ii(0x1dd)](getshopactivityId);let l1il11Il='';if($[I1li1ii(0x27c)])l1il11Il=I1li1ii(0x2a6)+$[I1li1ii(0x27c)];if($[I1li1ii(0x24a)])li1ilIl1[I1li1ii(0x28d)](li1ilIl1[I1li1ii(0x1b6)],li1ilIl1[I1li1ii(0x1e9)])?li1ilIl1[I1li1ii(0x20f)](Iil1Il11):(console[I1li1ii(0x226)](I1li1ii(0x29b)),li1ilIl1[I1li1ii(0x1dd)](IlliiilI));else{if(li1ilIl1[I1li1ii(0x28d)]($[I1li1ii(0x26d)],0x0))console[I1li1ii(0x226)](li1ilIl1[I1li1ii(0x25c)]),nobeans_mark+=0x1,li1ilIl1[I1li1ii(0x20f)](IlliiilI);else{if(li1ilIl1[I1li1ii(0x1d9)]($[I1li1ii(0x26d)],OPENCARD_BEAN))li1ilIl1[I1li1ii(0x260)](li1ilIl1[I1li1ii(0x2a5)],li1ilIl1[I1li1ii(0x204)])?II1I1liI[I1li1ii(0x1f7)](Il1ill1l[I1li1ii(0x1a5)],'',''+lIiii1ii):(console[I1li1ii(0x226)](I1li1ii(0x18f)+$[I1li1ii(0x26d)]+I1li1ii(0x1aa)+OPENCARD_BEAN+I1li1ii(0x29c)),nobeans_mark+=0x1,li1ilIl1[I1li1ii(0x275)](IlliiilI));else{if(li1ilIl1[I1li1ii(0x20e)](li1ilIl1[I1li1ii(0x265)],li1ilIl1[I1li1ii(0x287)])){const lili1i11=I1li1ii(0x22f)+$[I1li1ii(0x1e7)]+I1li1ii(0x1ae)+$[I1li1ii(0x1e7)]+I1li1ii(0x19a)+l1il11Il+I1li1ii(0x1bd),liliiIiI={'appid':li1ilIl1[I1li1ii(0x1f8)],'functionId':li1ilIl1[I1li1ii(0x1d7)],'clientVersion':li1ilIl1[I1li1ii(0x1d2)],'client':'H5','body':JSON[I1li1ii(0x26b)](lili1i11)},iiIlII1=await li1ilIl1[I1li1ii(0x1ff)](getH5st,li1ilIl1[I1li1ii(0x1d1)],liliiIiI),IIli1ll1={'url':I1li1ii(0x274)+li1ilIl1[I1li1ii(0x292)](encodeURIComponent,lili1i11)+I1li1ii(0x261)+li1ilIl1[I1li1ii(0x1ab)](encodeURIComponent,iiIlII1),'headers':{'Content-Type':li1ilIl1[I1li1ii(0x1c0)],'Origin':li1ilIl1[I1li1ii(0x233)],'Host':li1ilIl1[I1li1ii(0x27d)],'accept':li1ilIl1[I1li1ii(0x1d8)],'User-Agent':$['UA'],'content-type':li1ilIl1[I1li1ii(0x1a0)],'Cookie':cookie}};$[I1li1ii(0x1a6)](IIli1ll1,async(l1iiIIl1,iIil1IiI,Ii1iIlil)=>{const lil1ilil=I1li1ii,Iii1i1l1={'lBPOA':function(i11II){const liiili1I=llIIIil1;return IIlI1Ii[liiili1I(0x29d)](i11II);}};try{if(IIlI1Ii[lil1ilil(0x191)](IIlI1Ii[lil1ilil(0x251)],IIlI1Ii[lil1ilil(0x18a)]))Iliii[lil1ilil(0x283)](IlIiIilI,lli1Ii1I);else{let I1lIlii=$[lil1ilil(0x23b)](Ii1iIlil,Ii1iIlil);if(IIlI1Ii[lil1ilil(0x1ba)](typeof I1lIlii,IIlI1Ii[lil1ilil(0x27f)])){if(IIlI1Ii[lil1ilil(0x191)](I1lIlii[lil1ilil(0x230)],!![])){console[lil1ilil(0x226)](I1lIlii[lil1ilil(0x245)]),$[lil1ilil(0x1b0)]=I1lIlii[lil1ilil(0x245)];if(I1lIlii[lil1ilil(0x18d)]&&I1lIlii[lil1ilil(0x18d)][lil1ilil(0x23e)])for(let Ii1IilIi of I1lIlii[lil1ilil(0x18d)][lil1ilil(0x23e)][lil1ilil(0x256)]){console[lil1ilil(0x226)](lil1ilil(0x1d5)+Ii1IilIi[lil1ilil(0x18c)]+Ii1IilIi[lil1ilil(0x1af)]+Ii1IilIi[lil1ilil(0x1c1)]);}}else{if(IIlI1Ii[lil1ilil(0x1ba)](typeof I1lIlii,IIlI1Ii[lil1ilil(0x27f)])&&I1lIlii[lil1ilil(0x245)]){if(IIlI1Ii[lil1ilil(0x197)](IIlI1Ii[lil1ilil(0x234)],IIlI1Ii[lil1ilil(0x281)]))$[lil1ilil(0x1b0)]=I1lIlii[lil1ilil(0x245)],console[lil1ilil(0x226)](''+(I1lIlii[lil1ilil(0x245)]||''));else for(let iI1ilII of iIl1i1II[lil1ilil(0x18d)][lil1ilil(0x23e)][lil1ilil(0x256)]){liIil1I[lil1ilil(0x226)](lil1ilil(0x1d5)+iI1ilII[lil1ilil(0x18c)]+iI1ilII[lil1ilil(0x1af)]+iI1ilII[lil1ilil(0x1c1)]);}}else IIlI1Ii[lil1ilil(0x195)](IIlI1Ii[lil1ilil(0x26e)],IIlI1Ii[lil1ilil(0x26e)])?console[lil1ilil(0x226)](Ii1iIlil):i11I11i[lil1ilil(0x215)](ll1liIii[IilIlll1]);}}else{if(IIlI1Ii[lil1ilil(0x259)](IIlI1Ii[lil1ilil(0x1fc)],IIlI1Ii[lil1ilil(0x1cf)])){ll11iil[lil1ilil(0x1f7)](IiIIil[lil1ilil(0x1a5)],IIlI1Ii[lil1ilil(0x277)],IIlI1Ii[lil1ilil(0x22c)],{'open-url':IIlI1Ii[lil1ilil(0x22c)]});return;}else console[lil1ilil(0x226)](Ii1iIlil);}}}catch(il1lII1l){$[lil1ilil(0x283)](il1lII1l,iIil1IiI);}finally{IIlI1Ii[lil1ilil(0x197)](IIlI1Ii[lil1ilil(0x1bb)],IIlI1Ii[lil1ilil(0x1bb)])?Iii1i1l1[lil1ilil(0x220)](Ililil1i):IIlI1Ii[lil1ilil(0x29d)](IlliiilI);}});}else return l11Iii11[I1li1ii(0x26b)](i1li1lI);}}}}});}function getshopactivityId(){const l1iillll=I11IIII,l1Ilii1I={'LQZIP':function(ii1l1i,iiiIIlii){return ii1l1i!==iiiIIlii;},'iUony':l1iillll(0x249),'OjkRZ':function(l11I1iIi,I11IiiIl){return l11I1iIi==I11IiiIl;},'DapYj':l1iillll(0x1fe),'qccqx':function(iil1il1I,IiIll1I){return iil1il1I<IiIll1I;},'hLdDh':function(lilliI11,Iiii1il){return lilliI11(Iiii1il);},'cTmav':function(llIi1II,i1iiIIi){return llIi1II===i1iiIIi;},'sZhLe':l1iillll(0x285),'aAgzx':function(IlIlIil1,I1i1I1i1){return IlIlIil1!==I1i1I1i1;},'sTVhu':l1iillll(0x289),'hBhAA':l1iillll(0x244),'uLTgn':function(i11il1l){return i11il1l();},'vCxoX':l1iillll(0x1de),'rPmMN':l1iillll(0x198),'jKgeR':l1iillll(0x268),'vbMBh':l1iillll(0x247),'nqaFe':l1iillll(0x2ad)};return new Promise(Iilliii=>{const lIIi1iil=l1iillll,il1i111={'url':lIIi1iil(0x20b)+$[lIIi1iil(0x1e7)]+lIIi1iil(0x21b),'headers':{'Content-Type':l1Ilii1I[lIIi1iil(0x19d)],'Origin':l1Ilii1I[lIIi1iil(0x21d)],'Host':l1Ilii1I[lIIi1iil(0x208)],'accept':l1Ilii1I[lIIi1iil(0x29f)],'User-Agent':$['UA'],'content-type':l1Ilii1I[lIIi1iil(0x202)],'Cookie':cookie}};$[lIIi1iil(0x1a6)](il1i111,async(I1liIi1I,IIl1IIl1,IIlIiIil)=>{const I1il1ill=lIIi1iil;if(l1Ilii1I[I1il1ill(0x1e0)](l1Ilii1I[I1il1ill(0x190)],l1Ilii1I[I1il1ill(0x190)]))I1II1Ii1=l1iIi1[I1il1ill(0x28a)][I1il1ill(0x1c8)][I1il1ill(0x288)]('@');else try{let liIlI1lI=$[I1il1ill(0x23b)](IIlIiIil,IIlIiIil);if(l1Ilii1I[I1il1ill(0x2a4)](typeof liIlI1lI,l1Ilii1I[I1il1ill(0x1d3)])){if(l1Ilii1I[I1il1ill(0x2a4)](liIlI1lI[I1il1ill(0x230)],!![])){console[I1il1ill(0x226)](I1il1ill(0x1bf)+(liIlI1lI[I1il1ill(0x18d)][I1il1ill(0x21a)][I1il1ill(0x271)]||'')),$[I1il1ill(0x27c)]=liIlI1lI[I1il1ill(0x18d)][I1il1ill(0x196)]&&liIlI1lI[I1il1ill(0x18d)][I1il1ill(0x196)][0x0]&&liIlI1lI[I1il1ill(0x18d)][I1il1ill(0x196)][0x0][I1il1ill(0x1cb)]&&liIlI1lI[I1il1ill(0x18d)][I1il1ill(0x196)][0x0][I1il1ill(0x1cb)][I1il1ill(0x27a)]||'',$[I1il1ill(0x24a)]=liIlI1lI[I1il1ill(0x18d)][I1il1ill(0x236)][I1il1ill(0x24a)];if(liIlI1lI[I1il1ill(0x18d)][I1il1ill(0x196)]&&liIlI1lI[I1il1ill(0x18d)][I1il1ill(0x196)][I1il1ill(0x1a4)])for(let IIIllIl1=0x0;l1Ilii1I[I1il1ill(0x223)](IIIllIl1,liIlI1lI[I1il1ill(0x18d)][I1il1ill(0x196)][I1il1ill(0x1a4)]);IIIllIl1++){const iililli=liIlI1lI[I1il1ill(0x18d)][I1il1ill(0x196)][IIIllIl1];if(iililli[I1il1ill(0x1af)]){if(iililli[I1il1ill(0x1af)][I1il1ill(0x22b)]('京豆')||iililli[I1il1ill(0x1af)][I1il1ill(0x22b)]('红包'))$[I1il1ill(0x26d)]=l1Ilii1I[I1il1ill(0x235)](parseInt,iililli[I1il1ill(0x18c)]);break;}}}}else l1Ilii1I[I1il1ill(0x27b)](l1Ilii1I[I1il1ill(0x26c)],l1Ilii1I[I1il1ill(0x26c)])?console[I1il1ill(0x226)](IIlIiIil):I1i1lili[I1il1ill(0x19b)]=lI11iill[I1il1ill(0x192)][I1il1ill(0x294)];}catch(liilIIIi){l1Ilii1I[I1il1ill(0x1a2)](l1Ilii1I[I1il1ill(0x25b)],l1Ilii1I[I1il1ill(0x29e)])?$[I1il1ill(0x283)](liilIIIi,IIl1IIl1):IiIli1Il=[iliIIlIi[I1il1ill(0x28a)][I1il1ill(0x1c8)]];}finally{l1Ilii1I[I1il1ill(0x1c9)](Iilliii);}});});}function IiIIIl1I(){const I1l111Ii=(function(){return[...[version_,'OgIjsINjiVaumFiTr.hclLoqm.vw7RkSAygwLtML==','sMnVDK4','mZi0nde1mZbnDLDVC0G','t2PRuLO','wKjqvLq','lcjHy3rPDML0EuLKiJO','Bgvevgm','yMLUzfDPDgHwzw5Kzxi','CMv0y29Kzq','AxnoB2rL','EMGTy24','DMzbt2e','yxbWBgLJyxrPB24VEc13D3CTzM9YBs11CMXLBMnVzgvK','mtuYnZC1nLvqt2XKzq','rhDOCuq','A0TnsfK','zgLZy291BNrtDhjPBMC','CMvZDwX0','mJm5nJbOsgPrsM0','5ywL5lYA6ycb44cq','AvvVBNK','uNvWBxm','yMfZzq','qvfHwwi','q29VA2LLsKq','suDRzwm','Aw50zxjLC3rZuNvSzuXPC3q','A2j3EM0','Ahr0Chm6lY9HCgKUBs5Qzc5JB20','EM9utLi','iIWIyMLUzej5vMvYAwz5q29KzuzSywCIoJeSiNjLz2LZDgvYrxH0zw5KiJP7FsWID3jPDgvdAgLSzezSywCIoJa','BMLJA05HBwu','rvvTtfC','DKn4B1G','DfP6vfO','vxfxv1G','vgPIB0m','Ahr0Chm6lY9IzwfUlM0UAMqUy29TlW','yufNENG','BwfW','BgvUz3rO','BMfTzq','z2v0','y0rQvvK','sfj4s1C','B0fAAhK','44cr6lgg5Bcr5lQo44cq','y1f2y2W','v3Dhwxu','BefsDgC','iIWIC2HVCeLKiJOI','ChjPEMvoyw1L','zxjYB3jkB2LUu2HVCa','AMrHCha7AvbOB25LoZKUnc40oZe0lJm7BMv0D29YAY80zZTnB3PPBgXHlZuUmcaOAvbOB25LoYbdufuGAvbOB25Lie9tide0xZmGBgLRzsbnywmGt1mGwcKGqxbWBgvxzwjlAxqVnJa1lJeUmtuGkeTive1mlcbSAwTLieDLy2TVksbnB2jPBguVmtvfmtq4o3n1ChbVCNrkrfniv0SVmq','tePMCxy','z2v0zgf0yq','vhjgCKe','qLDZyw0','sM1RsgW','vMncuMm','56YSmEASOsdPH43MLRdLVidLJAe','sKrFrevcvuC','DxHqC3a','yKPnz3G','EgDZq24','lcjJAgfUBMvSiJO0mdz9','BgLqAuG','5lYA5zgy5y2H5zcn56EW77YA','CNnhz0G','C2vJB25KtgLUzurLC2m','u1PyC1G','B3LWwvi','vKrNDwC','tvrwCLu','tfPIzge','44cq6lsM5y+3','vKvorevsx0Le','DuXuz24','AvvWB20','Aw50zxjLC3rZsw5MBW','s1j0D1a','vxnLCK5HBwu','os4YlJa','CvLusK4','vNnZz2S','vM1NAxG','runMEhi','rgfWwwO','BhPWzfm','5ywL5lYA6i635B6x77YA','DurdtNG','B3zJC2C','wwjKv1O','CLrQDMK','v3flAuC','5Rs75yQO5AsQ54gR54Ig77Ym6k+356In5zco5yAn6k+v','zg9Uzq','B1vtuwq'],...(function(){return[...['Dgv4Dc9WBgfPBJSGq2HHCNnLDd1vveyToa','BNvhBMG','tffAsva','5BYa5y2H5AsX6lsL4P2mio+8JoMhJEAwSoAjP+IHJoIeMUACRa','mtiXmdG2otLJsfzevg8','ENvHAMe','zMX6B3u','Buz5Dgi','qKj3DxG','AM9PBLzLBMrLCKLK','v2zer1G','AvfKywe','ruPXy1C','weLsD0q','q29VA2LLC0Pe','56YSm+ASOsdPH43MLRdLVidLJAe','Bufzq08','A3vjuuy','z2jOugW','mJyXwxvZu0Tv','6k+35yU/6zQp5Osp5zYOqM94sNpOVPpLHAxMOyBKV67MLlNLHOxLRRKk5BU66k6U6ycA6l+h6isA5PYS5y676i635y+wy29VA2LL','zMLUywXSEq','Ahr0Chm6lY93CxmUAMqUy29Tl215l2PPBMDKB3uVBxKUC2H0BwW/C2nLBMv2ywW9mG','5lQS5lIC5PYn5yQH5zMO6l+u5zUE56M65PwW5O2U','CMfUzg9T','BxnN','rLvnq3C','vffsz24','thrKwuK','CxvSA2C','s2zRAhK','ANLQEha','B2jQzwn0','q0DpsLG','AMrFC2HVCf9Tzw1Izxi','Aw5KzxHpzG','BNfHrMu','t1bftKnbuKrFqKvbtG','uw9nBwi','Berzvhq','tM1gz0m','q29VA2LLsKqY','AKTNzvi','o25LDhDVCMSVD2LMAtTTB2rLBc9PugHVBMu4lde7ywrKCMvZC2LKlZiZmdG0nJa2mte7yxbWqNvPBgqVmty3ode0o2PKu3vWCg9YDerHCMTnB2rLlZa7tw96AwXSys81lJaGkgLqAg9UztSGq1bvigLqAg9UzsbpuYaXm18XxZiGBgLRzsbnywmGt1mGwcKGqxbWBgvxzwjlAxqVnJa1lJeUmtuGkeTive1mlcbSAwTLieDLy2TVksbnB2jPBguVmtvfmtq4o3n1ChbVCNrkrfniv0SVmq','Aw5KzxG','Ahr0Chm6lY9HCgKUBs5Qzc5JB20Vy2XPzw50lMfJDgLVBJ9HChbPzd1Qzf9ZAg9Wx21LBwjLCIzMDw5JDgLVBKLKpwDLDfnOB3bpCgvUq2fYzeLUzM8MyM9KEt0Ln0iLmJj2zw5KzxjjzcuYmIuZqsuYmG','z3zhs2K','D3PQyva','q2jgvhe','B2LIs20','BxngsNK','D2fPDa','otu5nZq0zxb5ANbz','we1TCLu','A2vLCc1HBgL2zq','ChvZAa','r29wAK4','zMXVB3i','D25dCfy','ogfKzMi','C2HVCe1LBwjLCKnHCMrjBMzV','jtiYjtjdjtiYy2HHBM5LBcuYmIuZqtqWmsu3rczJBgLLBNq9sduMy2XPzw50vMvYC2LVBJ05lJiUmcz1DwLKptG4odG4','5BYa5y2H5AsX6lsL4P2mio+8JoIVT+MhJEAwSoAjP+IHJoIeMUACRaO','CLbTtu4','yMfKtLi','teDcAei','Bejqt0e','sxnLAvm','z3HJBfu','CwnJCxG','sNLqBvO','Ahr0Chm6lY93Cs5Qzc5JB20VDxnLCI9PBMzVl1f1zxj5sKrvC2vYsw5MBZ9Zy2vUzxzHBd0Y','Bg9N','rLrtwwy','DfbPsNq','twPXuLK','Cg1yswW','Aw5JBhvKzxm','ANn0D1m','mZC4wgvqAhfc','uwT3BgO','EYj2zw5Kzxjjzci6iG','C3vJy2vZCW','C3rYAw5N','wefAq2O','Bfjbs2W','z0DsDuW','AeXKrgG','DxnLCKLUzM8','y1nuDvu','mJK2ntzqCw1UC0u','D3jHqwu','wK1oCxK','Dg9pyMO','56YSmUASOsdPH43MLRdLVidLJAe','BNrereu','z2LMDeLUzM8','shrfDvi','vKH6vfy'],...(function(){return['vhnRCvu','uu1gq1G','Cg9ZDa','s3n0AMe','BwvZC2fNzq','BfPTyuG','kI8Q','quDwBNu','EMXwBNO','B3bLBKnHCMrtDgf0Dxm','ywjYC0G','sNjnB1i','AMrHCha7AvbOB25LoZeWlJeUndSXmY4XlJi7','y1rhz1u','zMfSC2u','D1rMww4','CxfNDNK','s2fqD2W','zM9YrwfJAa','iefqsEIVT+AXGUwKSEI0PE+8JoIVT+AJGoAFPEE9KEI3R+MhJEIVLq','EejXtxq','z2LMDeXPC3q','ywjJzgvMmdeYmZq1nJC4oq','A2fmDwG','u2X6vMq','nJnICwfNvuy','C1rwAhu','Bhv6EgG','q3jeBxy','BhbprLe','uKfYAeu','rxnLCNy','jMnSAwvUDfzLCNnPB249os4YlJaMy2XPzw50puG1jNv1Awq9odG4odGMAdvZDd0','CNPqEgC','yxbWBgLJyxrPB24VANnVBIX0zxH0l3bSywLUlcaQlYO','A2v5CW','vxH4vMe','AhzWy0K','sLvgww0','yxbPlM0UAMqUy29T','s3HxwK0','rKHtEge','CgfYC2u','C1POtgu','B3bLBKnHCMrczwfU','zNzczvG','cUAYOEIXHUs4JEI3KEs6HU+9NG','DvHqshK','DMvUzgvYq2fYze5HBwu','y2HHCKf0','zwLSEem','Ahr0Chm6lY9HCgKUBs5Qzc5JB20Vy2XPzw50lMfJDgLVBJ9HChbPzd1Qzf9ZAg9Wx21LBwjLCIzMDw5JDgLVBKLKpwjPBMrxAxrOvMvUzgvYjMjVzhK9','AvfmwxG','r3b4Cgm','wMfnwhm','zNb1yMm','kIOQkIOQcG','ywn0AxzPDhLjza','y1rTyxy','C2HVCgfJDgL2Axr5swq','DMv0q1m','rMngyMe','vMnRDwG','5P+L6k+I6k+L5BQx5ywL5lYA5RkH5PYj6ycb6lgg77Ym5lIn5ywL5lYA','z2ToDg8','rMnwzxK','Bg9NrxjY','cIOQkIOQkUw8GowNI+oaKos6Ros4NoI0PUwpTW','u25XqNC','A2jYEei','Ee5PCu8','C3bSAxq','shriAum','zw52','y1jku1m','ufD6zK4','A0j2A3K','uergCNK','EgnWz0u','y2f0y2G','zMLSDgvY','wer0zgO','ANLbA24','BMLJA25HBwu','Bwf0y2G','y29VA2LL','44cq5O+q56s644cr6k+35ywi6i635y+wy29VA2LLcUEBToAoPEs9V+EuQe5VyNLeyEEAHos6Ros4NoETVUwiSoIoT+wpLG','z3PPCcWGzgvMBgf0zsWGyNi','wgD5D1a','t0fMAva','5BEY57Up5PIV5lYA5zgy5lQgFG','6lgg44cr77Ym5lIn5ywLlI4U','zwHmCgy','AejOque','DMjnqMG','BNbuu0K','mtG3mde2D0fZrg1p'];}())];}())];}());IiIIIl1I=function(){return I1l111Ii;};return IiIIIl1I();};function jsonParse(ii11i1li){const lllII1II=I11IIII,lllIlIII={'LZbda':function(Il1illiI,li1iiiIi){return Il1illiI==li1iiiIi;},'lARtg':lllII1II(0x231),'LGBhB':function(lllillil,ll1iI11i){return lllillil!==ll1iI11i;},'cSTuU':lllII1II(0x19c),'gvGKi':lllII1II(0x1ea),'gxclU':lllII1II(0x1f2)};if(lllIlIII[lllII1II(0x1c6)](typeof ii11i1li,lllIlIII[lllII1II(0x1ad)])){if(lllIlIII[lllII1II(0x21f)](lllIlIII[lllII1II(0x237)],lllIlIII[lllII1II(0x237)]))lI1iii11[lllII1II(0x1b0)]=i1III1Ii[lllII1II(0x245)],I1lIIIi1[lllII1II(0x226)](''+(lI1li1l1[lllII1II(0x245)]||''));else try{if(lllIlIII[lllII1II(0x21f)](lllIlIII[lllII1II(0x20c)],lllIlIII[lllII1II(0x20c)]))iiIlIl1i[lllII1II(0x283)](l1ll11ii);else return JSON[lllII1II(0x26b)](ii11i1li);}catch(lIIii11l){return console[lllII1II(0x226)](lIIii11l),$[lllII1II(0x1f7)]($[lllII1II(0x1a5)],'',lllIlIII[lllII1II(0x222)]),[];}}}var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
